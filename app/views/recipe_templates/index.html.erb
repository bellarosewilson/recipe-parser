<h1 class="mb-4">List of All Recipes</h1>

<div class="card shadow-sm mb-4">
  <div class="card-body">
    <h2 class="card-title h5 mb-2">Add a New Recipe</h2>
    <p class="card-text text-muted mb-3">
      Upload a photo of your recipe and we'll extract the ingredients and steps! (accepts: jpg,png,jpeg,heic)
    </p>
    <%= link_to "Add a Recipe (upload image)", new_recipe_path, class: "btn btn-primary" %>
  </div>
</div>

<%= search_form_for @q, url: recipes_path, method: :get, class: "mb-4" do |f| %>
  <div class="input-group" style="max-width: 24rem;">
    <%= f.search_field :title_cont, class: "form-control", placeholder: "Search recipes by title..." %>
    <%= f.submit "Search", class: "btn btn-outline-secondary" %>
  </div>
<% end %>

<h2 class="h5 text-muted mb-3">Your recipes</h2>
<%= turbo_frame_tag "recipes_list" do %>
  <% if @list_of_recipes.respond_to?(:total_count) %>
    <p class="text-muted small mb-2"><%= page_entries_info @list_of_recipes %></p>
  <% end %>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <% @list_of_recipes.each do |recipe| %>
      <%= render "recipe_templates/recipe_card", recipe: recipe %>
    <% end %>
  </div>
  <%= paginate @list_of_recipes %>
<% end %>
